<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> School Management Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.js"></script>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <script src="loginauth.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
        }

        #calendar-container {
            width: 100%;
            max-width: 2000px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);

        }

        .fc-toolbar-title {
            font-size: 22px !important;
            color: #333;
            font-weight: bold;
        }

        .fc-daygrid-day:hover {
            background: rgba(255, 99, 132, 0.1);
            transition: 0.3s;
        }

        .fc-day-today {
            background: rgba(54, 162, 235, 0.2) !important;
        }

        .fc-event {
            border-radius: 8px !important;
            font-size: 14px !important;
        }

        .dashboard-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            color: white;
        }

        .chart-container {
            width: 100%;
            /* Full width */
            height: 400px;
            /* Adjust height as needed */
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .chart-container canvas {
            height: 300px !important;
            /* Reduce chart height */
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="d-flex">
        <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

        <!-- Sidebar -->
        <nav class="bg-gray-900 text-white min-h-screen p-4 w-64">
            <!-- Sidebar Header -->
            <h4 class="text-1xl font-bold mb-4 flex items-center ml-6"><img src="favicon.png" class="h-24 w-36" alt="">
                </h4>

            <!-- Admin Profile -->
            <div class="text-center mb-6 flex items-center">
                <img src="profile.png" class="rounded-full w-16 h-16 border-2 border-gray-700" alt="Admin">
                <div class="ml-4">
                    <p class="text-lg font-semibold">Mr. Admin</p>
                    <p class="text-gray-400 text-sm">Admin</p>
                </div>
            </div>

            <!-- Sidebar Navigation -->
            <ul class="space-y-2">
                <li><a href="dashboard.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"> <i
                            class="bi bi-speedometer2"></i> Dashboard</a>
                </li>

                <!-- Teacher Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-person-workspace"></i> Employees</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="add-employee.html" class="block py-2 hover:bg-gray-700"> Add New Employee</a></li>
                        <li><a href="employee.html" class="block py-2 hover:bg-gray-700"> All Employees</a></li>
                        <li><a href="manage.html" class="block py-2 hover:bg-gray-700"> Manage Employees</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">⚖ Active / Inactive</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                        <li><a href="appointment_letter.html" class="block py-2 hover:bg-gray-700"> Appointment
                                Letter</a><i class="fas fa-lock ml-auto text-red-300"></i></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Staff ID Card</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
                <!-- Students Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-people-fill"></i> Students</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="admissions.html" class="block py-2 hover:bg-gray-700"> Add Student</a></li>
                        <li><a href="students.html" class="block py-2 hover:bg-gray-700"> All Students</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">⚖ Active / Inactive</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                        <li><a href="admission_letter.html" class="block py-2 hover:bg-gray-700"> Admission Letter</a>
                        </li>
                        <!---------<li><a href="student_id.html" class="block py-2 hover:bg-gray-700"> Student ID Cards</a></li>-------->
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Students ID Cards</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Manage Login</a></li>
                        <li><a href="promote_students.html" class="block py-2 hover:bg-gray-700"> Promote Students</a>
                        </li>
                    </ul>
                </li>


                <li><a href="parents.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-person-hearts"></i> Parent</a></li>
                <li><a href="class.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-house"></i> Class</a></li>

                <!-- Accounts Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-cash-coin"></i> Accounts</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="account.html" class="block py-2 hover:bg-gray-700"> Account Details</a></li>
                        <li><a href="fees.html" class="block py-2 hover:bg-gray-700"> Pay Fees</a></li>
                        <li><a href="invoices.html" class="block py-2 hover:bg-gray-700"> Receipts</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Global Payment</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                        <li><a href="expense.html" class="block py-2 hover:bg-gray-700"> Expenditure</a></li>
                        <li><a href="petty-cash.html" class="block py-2 hover:bg-gray-700"> Petty Cash</a></li>
                        <li><a href="income.html" class="block py-2 hover:bg-gray-700">Income</a></li>
                        <li><a href="statement.html" class="block py-2 hover:bg-gray-700">Account Statement</a></li>
                    </ul>
                </li>

                <!-- Requisition Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-journal-text"></i> Library</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="books.html" class="block py-2 hover:bg-gray-700"> Books</a></li>
                        <li><a href="issued.html" class="block py-2 hover:bg-gray-700"> Issued Out</a></li>
                        <!---------<li><a href="student_id.html" class="block py-2 hover:bg-gray-700"> Student ID Cards</a></li>-------->
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">E-books</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-pc-display"></i> Requisition</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="requistion.html" class="block py-2 hover:bg-gray-700"> Requisition Form</a></li>
                        <li><a href="review.html" class="block py-2 hover:bg-gray-700"> View Requisitions</a></li>
                        <li><a href="requisition-admin.html" class="block py-2 hover:bg-gray-700"> Respond
                                Requisitions</a></li>
                    </ul>
                </li> <!-- Exams Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-file-earmark-ppt-fill"></i> Exams</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="result-card.html" class="block py-2 hover:bg-gray-700"> Result Card</a></li>
                        <li><a href="master-list.html" class="block py-2 hover:bg-gray-700"> Master Sheet</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Blank Award List</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
                </li> <!-- Attendance Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-clock-history"></i> Attendance</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="staff-attendance.html" class="block py-2 hover:bg-gray-700"> Staffs Attendance</a>
                        </li>
                        <li><a href="stud-attendance.html" class="block py-2 hover:bg-gray-700"> Students Attendance</a>
                        </li>
                        <li><a href="attendance-list.html" class="block py-2 hover:bg-gray-700">Attendance List</a></li>
                    </ul>
                </li>
                <li><a href="message.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-chat-dots-fill"></i> Message</a></li>
                <li><a href="media.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-collection-play-fill"></i> Media</a></li>
                <li><a href="mail-sms.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-envelope-at"></i> Mail / SMS</a>
                </li>
                <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                    <a href="#" class="flex items-center">
                        <span class="mr-2"><i class="bi bi-router-fill"></i> Online Exams</span>
                        <i class="bi bi-lock ml-auto text-red-300"></i>
                    </a>

                    <!-- Tooltip -->
                    <div
                        class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                        This option is available in <br>
                        premium Version only.
                        <div class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                        </div>
                    </div>
                </li>
                <!-- Payroll Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-cash-coin"></i> Payroll</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="pay-salary.html" class="block py-2 hover:bg-gray-700">Pay Salary</a></li>
                        <li><a href="payslip.html" class="block py-2 hover:bg-gray-700">Pay Slip</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Manage Salary</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>

                <li><a href="asset.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-cassette"></i> Asset Management</a></li>
                <!-- Inventory Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-cart-check-fill"></i> Shop</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="shop-bookstation.html" class="block py-2 hover:bg-gray-700"> Books & Stationaries</a></li>
                        <li><a href="shop-uniform.html" class="block py-2 hover:bg-gray-700"> Uniform & Clothing</a></li>
                        <li><a href="purchase.html" class="block py-2 hover:bg-gray-700"> Purchase</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Sale</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Orders</a></li>
                    </ul>
                </li>

                <!----Inventory Section with Standalone Style------->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-window-fullscreen"></i> Leave Application</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="leave.html" class="block py-2 hover:bg-gray-700">Apply for Leave</a></li>
                        <li><a href="applications.html" class="block py-2 hover:bg-gray-700"> Applications</a></li>
                    </ul>
                </li>
                <li><a href="gmeet.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-camera-video-fill"></i> Gmeet Live Class</a>
                </li>
                <li><a href="transport.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-bus-front"></i> Transport</a>
                </li>
                <li><a href="hostel.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-house-door"></i> Hostel</a></li>
                <!-- Teacher Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-megaphone"></i> Announcement</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="notice.html" class="block py-2 hover:bg-gray-700"> Notice</a></li>
                        <li><a href="timetable.html" class="block py-2 hover:bg-gray-700"> Timetable</a></li>
                        <li><a href="calendar.html" class="block py-2 hover:bg-gray-700"> Academic Calendar</a></li>
                    </ul>
                </li>
                <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                    <a href="#" class="flex items-center">
                        <span class="mr-2"><i class="bi bi-router-fill"></i> Online Admission</span>
                        <i class="bi bi-lock ml-auto text-red-300"></i>
                    </a>

                    <!-- Tooltip -->
                    <div
                        class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                        This option is available in <br>
                        premium Version only.
                        <div class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                        </div>
                    </div>
                </li>
                <li><a href="visitor.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                            class="bi bi-person-walking"></i> Visitor Info</a>
                </li>
                <!-- Settings Section with Standalone Style -->
                <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                    class="rounded p-2 transition-colors duration-300">

                    <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                        <span class="font-semibold"><i class="bi bi-gear-wide-connected"></i> Settings</span>
                        <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''">▼</span>
                    </button>

                    <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Institution Profile</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Fees Particulars</a></li>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Fees Structure</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                            <a href="#" class="flex items-center">
                                <span class="mr-2">Discount Type</span>
                                <i class="bi bi-lock ml-auto text-red-300"></i>
                            </a>

                            <!-- Tooltip -->
                            <div
                                class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                                This option is available in <br>
                                premium Version only.
                                <div
                                    class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                                </div>
                            </div>
                        </li>
                        <li><a href="" class="block py-2 hover:bg-gray-700"> Accounts For Fees Invoice</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Rules and Regulations</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Marks Grading</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Theme and Language</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Account Settings</a></li>
                        <li><a href="#" class="block py-2 hover:bg-gray-700"> Audit Trail</a></li>
                        <li><a href="index.html" class="block py-2 hover:bg-gray-700"> Log Out</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

             <!-- Main Content -->
             <div class="flex-grow min-h-screen bg-gray-50">
                <!-- Modern Navbar -->
                <nav class="bg-white shadow-sm">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="flex justify-between items-center h-16">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 flex items-center">
                                    <i class="fas fa-chalkboard-teacher text-indigo-600 text-xl mr-3"></i>
                                    <h2 class="text-lg font-semibold text-gray-900">Class Management</h2>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    <span class="sr-only">Notifications</span>
                                    <i class="far fa-bell text-xl"></i>
                                </button>
                                <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    <span class="sr-only">Settings</span>
                                    <i class="fas fa-cog text-xl"></i>
                                </button>
                                <button class="p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    <span class="sr-only">Language</span>
                                    <i class="fas fa-globe text-xl"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>
            
                <!-- Main Content -->
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <!-- Class Management Form -->
                    <div class="bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="p-6 sm:p-8">
                            <div class="text-center mb-8">
                                <h1 class="text-2xl font-bold text-gray-800">Class Information</h1>
                                <p class="text-gray-500 mt-2">
                                    <span class="text-indigo-500 font-medium">*</span> indicates required fields
                                </p>
                            </div>
            
                            <form id="classForm" class="space-y-6">
                                <input type="hidden" id="classId">
            
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="className" class="block text-sm font-medium text-gray-700 mb-1">
                                            Class Name <span class="text-indigo-500">*</span>
                                        </label>
                                        <input type="text" id="className" placeholder="e.g., Grade 6" 
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"
                                               required>
                                    </div>
            
                                    <div>
                                        <label for="section" class="block text-sm font-medium text-gray-700 mb-1">
                                            Section <span class="text-indigo-500">*</span>
                                        </label>
                                        <input type="text" id="section" placeholder="e.g., A, B, C" 
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"
                                               required>
                                    </div>
            
                                    <div>
                                        <label for="teacher" class="block text-sm font-medium text-gray-700 mb-1">
                                            Class Teacher <span class="text-indigo-500">*</span>
                                        </label>
                                        <select id="teacher" 
                                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"
                                                required>
                                            <option value="">Select Class Teacher</option>
                                            <!-- Teachers will be loaded dynamically -->
                                        </select>
                                    </div>
            
                                    <div>
                                        <label for="capacity" class="block text-sm font-medium text-gray-700 mb-1">
                                            Maximum Capacity <span class="text-indigo-500">*</span>
                                        </label>
                                        <input type="number" id="capacity" min="1" 
                                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition"
                                               required>
                                    </div>
                                </div>
            
                                <div class="flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4">
                                    <button type="reset" 
                                            class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition">
                                        Reset
                                    </button>
                                    <button type="submit" id="saveClassButton"
                                            class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition">
                                        Save Class
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
            
                    <!-- Class List Section -->
                    <div class="mt-12">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-bold text-gray-800">Class List</h2>
                            <button onclick="refreshClassList()" 
                                    class="flex items-center text-indigo-600 hover:text-indigo-800">
                                <i class="fas fa-sync-alt mr-2"></i> Refresh
                            </button>
                        </div>
            
                        <div id="classContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Classes will be loaded dynamically -->
                            <div class="text-center py-8">
                                <i class="fas fa-spinner fa-spin text-2xl text-gray-400"></i>
                                <p class="mt-2 text-gray-500">Loading classes...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <script>
                // Function to load teachers from the employee collection (with localStorage caching)
                async function loadTeachers() {
                    const teacherDropdown = document.getElementById("teacher");
                    teacherDropdown.innerHTML = '<option value="">Select Class Teacher</option>';
                    teacherDropdown.disabled = true;
                    
                    const cachedTeachers = localStorage.getItem("teachers");
                    const cacheTimestamp = localStorage.getItem("teachers_timestamp");
                    const now = new Date().getTime();
                    const cacheExpiry = 30 * 60 * 1000; // 30 minutes cache
            
                    if (cachedTeachers && cacheTimestamp && (now - cacheTimestamp < cacheExpiry)) {
                        console.log("✅ Loading teachers from localStorage cache");
                        populateTeacherDropdown(JSON.parse(cachedTeachers));
                        return;
                    }
            
                    try {
                        console.log("🔄 Fetching teachers from API...");
                        const response = await fetch("http://localhost:5000/api/employees/teachers");
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
                        const teachers = await response.json();
                        localStorage.setItem("teachers", JSON.stringify(teachers));
                        localStorage.setItem("teachers_timestamp", now.toString());
                        populateTeacherDropdown(teachers);
                        console.log("✅ Teachers loaded successfully and cached");
                    } catch (error) {
                        console.error("❌ Error loading teachers:", error);
                        teacherDropdown.innerHTML = '<option value="">Error loading teachers</option>';
                    } finally {
                        teacherDropdown.disabled = false;
                    }
                }
            
                // Populate teacher dropdown with enhanced UI
                function populateTeacherDropdown(teachers) {
                    const teacherDropdown = document.getElementById("teacher");
                    teacherDropdown.innerHTML = '<option value="">Select Class Teacher</option>';
            
                    if (!teachers || teachers.length === 0) {
                        teacherDropdown.innerHTML += '<option value="" disabled>No teachers available</option>';
                        return;
                    }
            
                    teachers.forEach(teacher => {
                        const option = document.createElement("option");
                        option.value = teacher._id;
                        option.textContent = `${teacher.name} (${teacher.email || 'No email'})`;
                        teacherDropdown.appendChild(option);
                    });
                }
            
                // Function to load class list with modern cards
                async function loadClasses() {
                    const classContainer = document.getElementById("classContainer");
                    classContainer.innerHTML = `
                        <div class="col-span-full text-center py-8">
                            <i class="fas fa-spinner fa-spin text-2xl text-gray-400"></i>
                            <p class="mt-2 text-gray-500">Loading classes...</p>
                        </div>
                    `;
            
                    try {
                        const response = await fetch("http://localhost:5000/api/classes");
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            
                        const classes = await response.json();
                        
                        if (classes.length === 0) {
                            classContainer.innerHTML = `
                                <div class="col-span-full text-center py-12">
                                    <i class="fas fa-chalkboard text-4xl text-gray-300 mb-4"></i>
                                    <h3 class="text-lg font-medium text-gray-500">No classes found</h3>
                                    <p class="text-gray-400 mt-1">Create your first class using the form above</p>
                                </div>
                            `;
                            return;
                        }
            
                        classContainer.innerHTML = '';
                        classes.forEach(cls => {
                            const classCard = document.createElement("div");
                            classCard.className = "bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition";
                            
                            classCard.innerHTML = `
                                <div class="p-6">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h3 class="text-xl font-bold text-gray-800">${cls.className}</h3>
                                            <span class="inline-block mt-1 px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800">
                                                Section ${cls.section || "N/A"}
                                            </span>
                                        </div>
                                        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                                            ${cls.capacity || "0"} seats
                                        </span>
                                    </div>
                                    
                                    <div class="mt-4 pt-4 border-t border-gray-100">
                                        <div class="flex items-center">
                                            <div class="flex-shrink-0">
                                                <i class="fas fa-user-tie text-gray-400"></i>
                                            </div>
                                            <div class="ml-3">
                                                <p class="text-sm text-gray-500">Class Teacher</p>
                                                <p class="text-sm font-medium text-gray-900">${cls.classTeacherName || "Not assigned"}</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mt-4 flex space-x-3">
                                        <button onclick="editClass('${cls._id}')" class="text-indigo-600 hover:text-indigo-900 text-sm font-medium">
                                            <i class="fas fa-edit mr-1"></i> Edit
                                        </button>
                                        <button onclick="confirmDeleteClass('${cls._id}', '${cls.className}')" class="text-red-600 hover:text-red-900 text-sm font-medium">
                                            <i class="fas fa-trash-alt mr-1"></i> Delete
                                        </button>
                                    </div>
                                </div>
                            `;
                            
                            classContainer.appendChild(classCard);
                        });
                        
                        console.log("✅ Classes loaded successfully");
                    } catch (error) {
                        console.error("❌ Error loading classes:", error);
                        classContainer.innerHTML = `
                            <div class="col-span-full text-center py-12">
                                <i class="fas fa-exclamation-triangle text-4xl text-red-300 mb-4"></i>
                                <h3 class="text-lg font-medium text-gray-700">Error loading classes</h3>
                                <p class="text-gray-500 mt-1">Please try again later</p>
                                <button onclick="loadClasses()" class="mt-4 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                                    <i class="fas fa-sync-alt mr-2"></i> Retry
                                </button>
                            </div>
                        `;
                    }
                }
            
                // Handle form submission with modern UX
                document.getElementById("classForm").addEventListener("submit", async function (event) {
                    event.preventDefault();
                    
                    const saveButton = document.getElementById("saveClassButton");
                    const originalButtonText = saveButton.innerHTML;
                    saveButton.disabled = true;
                    saveButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Saving...';
                    
                    const classData = {
                        className: document.getElementById("className").value.trim(),
                        section: document.getElementById("section").value.trim().toUpperCase(),
                        classTeacher: document.getElementById("teacher").value.trim(),
                        capacity: parseInt(document.getElementById("capacity").value, 10) || 0
                    };
            
                    try {
                        const classId = document.getElementById("classId").value;
                        const url = classId ? `http://localhost:5000/api/classes/${classId}` : "http://localhost:5000/api/classes/add";
                        const method = classId ? "PUT" : "POST";
                        
                        const response = await fetch(url, {
                            method: method,
                            headers: {
                                "Content-Type": "application/json"
                            },
                            body: JSON.stringify(classData)
                        });
            
                        if (!response.ok) {
                            const errorData = await response.json();
                            throw new Error(errorData.message || "Failed to save class");
                        }
            
                        const result = await response.json();
                        
                        // Show success feedback
                        showToast("success", `Class ${classId ? "updated" : "created"} successfully!`);
                        
                        // Reset form and refresh list
                        document.getElementById("classForm").reset();
                        document.getElementById("classId").value = "";
                        loadClasses();
                    } catch (error) {
                        console.error("❌ Error:", error);
                        showToast("error", error.message || "Error saving class");
                    } finally {
                        saveButton.disabled = false;
                        saveButton.innerHTML = originalButtonText;
                    }
                });
            
                // Edit class function
                async function editClass(classId) {
                    try {
                        const response = await fetch(`http://localhost:5000/api/classes/${classId}`);
                        if (!response.ok) throw new Error("Failed to fetch class details");
                        
                        const classData = await response.json();
                        
                        // Fill the form
                        document.getElementById("classId").value = classData._id;
                        document.getElementById("className").value = classData.className;
                        document.getElementById("section").value = classData.section;
                        document.getElementById("teacher").value = classData.classTeacher;
                        document.getElementById("capacity").value = classData.capacity;
                        
                        // Scroll to form
                        document.getElementById("classForm").scrollIntoView({ behavior: "smooth" });
                        
                        // Change button text
                        document.getElementById("saveClassButton").innerHTML = "Update Class";
                        
                        showToast("info", "Editing class: " + classData.className);
                    } catch (error) {
                        console.error("Error editing class:", error);
                        showToast("error", "Failed to load class details");
                    }
                }
            
                // Confirm and delete class
                async function confirmDeleteClass(classId, className) {
                    if (!confirm(`Are you sure you want to delete "${className}"?\nThis action cannot be undone.`)) {
                        return;
                    }
                    
                    try {
                        const response = await fetch(`http://localhost:5000/api/classes/${classId}`, {
                            method: "DELETE"
                        });
                        
                        if (!response.ok) throw new Error("Failed to delete class");
                        
                        showToast("success", `Class "${className}" deleted successfully`);
                        loadClasses();
                    } catch (error) {
                        console.error("Error deleting class:", error);
                        showToast("error", "Failed to delete class");
                    }
                }
            
                // Refresh class list
                function refreshClassList() {
                    // Clear cache to force fresh data
                    localStorage.removeItem("teachers");
                    localStorage.removeItem("teachers_timestamp");
                    
                    loadTeachers();
                    loadClasses();
                    showToast("info", "Refreshing data...");
                }
            
                // Toast notification function
                function showToast(type, message) {
                    const toast = document.createElement("div");
                    toast.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-md text-white font-medium flex items-center ${
                        type === "success" ? "bg-green-500" : 
                        type === "error" ? "bg-red-500" : 
                        "bg-indigo-500"
                    }`;
                    
                    toast.innerHTML = `
                        <i class="fas ${
                            type === "success" ? "fa-check-circle" : 
                            type === "error" ? "fa-exclamation-circle" : 
                            "fa-info-circle"
                        } mr-3"></i>
                        ${message}
                    `;
                    
                    document.body.appendChild(toast);
                    
                    setTimeout(() => {
                        toast.classList.add("opacity-0", "transition-opacity", "duration-300");
                        setTimeout(() => toast.remove(), 300);
                    }, 3000);
                }
            
                // Load data on page load
                document.addEventListener("DOMContentLoaded", () => {
                    loadTeachers();
                    loadClasses();
                });
            </script>
            
            <style>
                /* Smooth transitions */
                .transition {
                    transition: all 0.2s ease-in-out;
                }
                
                /* Focus styles */
                .focus\:ring-indigo-500:focus {
                    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
                }
                
                /* Card hover effect */
                .hover\:shadow-lg:hover {
                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                }
                
                /* Responsive adjustments */
                @media (max-width: 640px) {
                    .grid-cols-2 {
                        grid-template-columns: 1fr;
                    }
                }
            </style>
</body>

</html>