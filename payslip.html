<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management Dashboard</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Libraries -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- JS Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.5/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    
    <!-- Custom JS -->
    <script src="loginauth.js" defer></script>


    <style>
        body {
            font-family: Arial, sans-serif;
        }
        :root {
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --danger: #ef4444;
            --danger-hover: #dc2626;
            --success: #10b981;
            --success-hover: #059669;
            --warning: #f59e0b;
            --warning-hover: #d97706;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        
        /* Modern UI Components */
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .btn-modern {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 8px;
            font-weight: 500;
            padding: 8px 16px;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-modern:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .btn-modern:active {
            transform: translateY(0);
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-hover);
        }
        
        .btn-danger {
            background-color: #fee2e2;
            color: var(--danger);
        }
        
        .btn-danger:hover {
            background-color: #fecaca;
            color: var(--danger-hover);
        }
        
        .btn-success {
            background-color: #dcfce7;
            color: var(--success);
        }
        
        .btn-success:hover {
            background-color: #bbf7d0;
            color: var(--success-hover);
        }
        
        .btn-warning {
            background-color: #fef3c7;
            color: var(--warning);
        }
        
        .btn-warning:hover {
            background-color: #fde68a;
            color: var(--warning-hover);
        }
        
        /* Status badges */
        .status-badge {
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        
        .status-badge:before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .status-paid {
            background-color: #dcfce7;
            color: #166534;
        }
        
        .status-paid:before {
            background-color: #166534;
        }
        
        .status-pending {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .status-pending:before {
            background-color: #92400e;
        }
        
        /* Table styles */
        .modern-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }
        
        .modern-table thead th {
            background-color: #f1f5f9;
            color: #64748b;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            padding: 12px 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .modern-table tbody tr {
            transition: all 0.2s ease;
        }
        
        .modern-table tbody tr:hover {
            background-color: #f8fafc;
        }
        
        .modern-table tbody td {
            padding: 16px;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: middle;
        }
        
        /* Confirmation dialog */
        .confirmation-dialog {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1050;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .confirmation-dialog.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .confirmation-content {
            background-color: white;
            padding: 24px;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .confirmation-dialog.active .confirmation-content {
            transform: translateY(0);
        }
        
        .confirmation-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1f2937;
        }
        
        .confirmation-message {
            margin-bottom: 24px;
            color: #4b5563;
        }
        
        .confirmation-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }
        
        /* Toast notification */
        .toast-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1050;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .toast-notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast-notification.error {
            background-color: var(--danger);
        }
        
        .toast-notification.warning {
            background-color: var(--warning);
        }
        
        .toast-icon {
            font-size: 1.25rem;
        }
        
        /* Avatar styles */
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        /* Input styles */
        .modern-input {
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            padding: 8px 12px;
            transition: all 0.2s ease;
        }
        
        .modern-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        /* Card styles */
        .stat-card {
            border-radius: 12px;
            padding: 20px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="d-flex">
        <!-- Sidebar -->
          <!-- Sidebar Toggle Button -->
          <button id="sidebarToggle"
          class="fixed top-4 left-4 z-50 p-2 bg-gray-800 text-white rounded-md shadow-lg md:hidden">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
      </button>

      <nav id="sidebar"
      class="bg-gray-900 text-white min-h-screen p-4 fixed md:relative transition-all duration-300 z-40"
      x-data="{ 
          isCollapsed: localStorage.getItem('sidebarCollapsed') === 'true',
      }"
      x-bind:class="{ 'w-16': isCollapsed, 'w-64': !isCollapsed }"
  >

      <!-- Sidebar Header with Logo & Toggle -->
      <div class="flex justify-between items-center mb-4">
          <h4 class="text-1xl font-bold flex items-center w-full">
              <img src="favicon.png" 
                   class="transition-all duration-300 sidebar-logo"
                   :class="isCollapsed ? 'w-10 h-10 mx-auto rounded-full' : 'w-24 h-16 rounded-md'" 
                   alt="Logo">
          </h4>
          <button @click="isCollapsed = !isCollapsed; localStorage.setItem('sidebarCollapsed', isCollapsed)"
              class="p-1 text-gray-400 hover:text-white hidden md:block transition-transform duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform"
                  :class="isCollapsed ? 'rotate-180' : ''" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
          </button>
      </div>

  <!-- Admin Profile -->
<div class="text-center mb-6 flex items-center transition-all duration-300"
:class="isCollapsed ? 'justify-center' : 'justify-start'">
<img id="sidebarProfileImage" 
  src="default-profile.png" 
  class="rounded-full border-2 border-gray-700 transition-all duration-300"
  :class="isCollapsed ? 'w-12 h-12 mx-auto' : 'w-14 h-14 ml-2'" 
  alt="Admin">

<div class="ml-4 transition-all duration-300" x-show="!isCollapsed" x-transition>
  <p id="sidebarUsername" class="text-lg font-semibold">Loading...</p>
  <p id="sidebarRole" class="text-gray-400 text-sm">Loading...</p>
</div>
</div>




          <!-- Sidebar Navigation -->
          <ul class="space-y-2">
              <!-- Dashboard -->
              <li>
                  <a href="dashboard.html"
                      class="block p-2 hover:bg-gray-800 rounded font-semibold flex items-center">
                      <i class="bi bi-speedometer2 sidebar-icon"></i>
                      <span class="sidebar-text ml-3" x-show="!isCollapsed">Dashboard</span>
                  </a>
              </li>

              <!-- Teacher Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-person-workspace"></i> <span
                              class="sidebar-text ml-3" x-show="!isCollapsed">Employees</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="add-employee.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Add New Employee</span></a>
                      </li>
                      <li><a href="employee.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">All Employees</span></a></li>
                      <li><a href="manage.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Manage Employees</span> </a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"> <span class="sidebar-text ml-3" x-show="!isCollapsed">⚖ Active /
                                      Inactive</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="appointment_letter.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Appointment
                                  Letter</span> </a><i class="fas fa-lock ml-auto text-red-300"></i></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="sidebar-text ml-3" x-show="!isCollapsed">Staff ID Card</span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                  </ul>
              </li>
              <!-- Students Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-people-fill"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Students</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="admissions.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Add Student</span> </a></li>
                      <li><a href="students.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">All Students</span></a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"> <span class="sidebar-text ml-3" x-show="!isCollapsed">⚖ Active /
                                      Inactive</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="admission_letter.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Admission Letter</span>
                          </a>
                      </li>
                      <!---------<li><a href="student_id.html" class="block py-2 hover:bg-gray-700"> Student ID Cards</a></li>-------->
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"><span class="sidebar-text ml-3" x-show="!isCollapsed">Students ID
                                      Cards</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="#" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Manage Login</span> </a></li>
                      <li><a href="promote_students.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Promote
                                  Students</span> </a>
                      </li>
                  </ul>
              </li>


              <li><a href="parents.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-person-hearts"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Parent</span></a></li>


              <!-- Classes Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-house"></i><span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Class</span> </span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="classes.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">All Classes</span></a></li>
                      <li><a href="class.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Add Class</span></a></li>
                  </ul>
              </li>

              </li>

              </li> <!-- Attendance Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-clock-history"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Attendance</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="staff-attendance.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Staffs
                                  Attendance</span> </a>
                      </li>
                      <li><a href="stud-attendance.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Students
                                  Attendance</span> </a>
                      </li>
                      <li><a href="attendance-list.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Attendance List</span></a>
                      </li>
                  </ul>
              </li>

              <!-- Exams Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-file-earmark-ppt-fill"></i><span
                              class="sidebar-text ml-3" x-show="!isCollapsed">Exams</span> </span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="result-card.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Result Card</span></a></li>
                      <li><a href="master-list.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Master Sheet</span></a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="sidebar-text ml-3" x-show="!isCollapsed">Blank Award List</span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                  </ul>
              </li>


              <!-- Accounts Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-cash-coin"></i><span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Accounts</span> </span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="account.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Account Details</span></a></li>
                      <li><a href="fees.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Pay Fees</span> </a></li>
                      <li><a href="invoices.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Receipts</span></a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"><span class="sidebar-text ml-3" x-show="!isCollapsed">Global
                                      Payment</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="expense.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Expenditure</span></a></li>
                      <li><a href="petty-cash.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Petty Cash</span> </a></li>
                      <li><a href="income.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Income</span></a></li>
                      <li><a href="statement.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Account Statement</span></a></li>
                  </ul>
              </li>

              <!-- Payroll Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-cash-coin"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Payroll</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="pay-salary.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Pay Salary</span></a></li>
                      <li><a href="payslip.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Pay Slip</span></a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"><span class="sidebar-text ml-3" x-show="!isCollapsed">Manage
                                      Salary</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                  </ul>
              </li>


              <!-- Library Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-journal-text"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Library</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="books.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Books</span></a></li>
                      <li><a href="issued.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Issued Out</span> </a></li>
                      <!---------<li><a href="student_id.html" class="block py-2 hover:bg-gray-700"> Student ID Cards</a></li>-------->
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"> <span class="sidebar-text ml-3"
                                      x-show="!isCollapsed">E-books</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                  </ul>
              </li>

              <!--Requisition Section with standalone style-->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-pc-display"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Requisition</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="requistion.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Requisition Form</span> </a>
                      </li>
                      <li><a href="review.html" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">View Requisitions</span></a></li>
                      <li><a href="requisition-admin.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Respond
                                  Requisitions</span> </a></li>
                  </ul>


              <li>
                  <a href="message.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-chat-dots-fill"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Message</span></a>
              </li>
              <li><a href="media.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-collection-play-fill"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Media</span></a></li>
              <li><a href="mail-sms.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-envelope-at"></i><span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Mail</span></a>
              </li>
              <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                  <a href="#" class="flex items-center">
                      <span class="ml-2"><i class="bi bi-router-fill"></i><span x-show="!isCollapsed">Online
                              Exams</span> </span>
                      <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                  </a>

                  <!-- Tooltip -->
                  <div
                      class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                      This option is available in <br>
                      premium Version only.
                      <div class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                      </div>
                  </div>
              </li>

              <li><a href="asset.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-cassette"></i> <span class="sidebar-text ml-3" x-show="!isCollapsed">Asset
                          Management</span></a></li>
              <!-- Inventory Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-cart-check-fill"></i> <span
                              class="sidebar-text ml-3" x-show="!isCollapsed">Shop</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="shop-bookstation.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Books &
                                  Stationaries</span></a></li>
                      <li><a href="shop-uniform.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Uniform & Clothing</span> </a>
                      </li>
                      <li><a href="purchase.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Purchase</span></a></li>
                      <li><a href="#" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Sale</span></a></li>
                      <li><a href="#" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Orders</span> </a></li>
                  </ul>
              </li>

              <!----Inventory Section with Standalone Style------->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-window-fullscreen"></i> <span
                              class="sidebar-text ml-3" x-show="!isCollapsed">Leave Application</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="leave.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Apply for Leave</span></a></li>
                      <li><a href="applications.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Applications</span></a></li>
                  </ul>
              </li>
              <li><a href="gmeet.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-camera-video-fill"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Gmeet Live Class</span></a>
              </li>
              <li><a href="transport.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-bus-front"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Transport</span></a>
              </li>
              <li><a href="hostel.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-house-door"></i><span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Hostel</span> </a></li>
              <!-- Announcement Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-megaphone"></i><span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Announcement</span> </span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="notice.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Notice</span> </a></li>
                      <li><a href="timetable.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Timetable</span> </a></li>
                      <li><a href="calendar.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Academic Calendar</span></a></li>
                  </ul>
              </li>

              <!-- Announcement Section with Standalone Style -->
              <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                  <a href="#" class="flex items-center">
                      <span class="ml-2"><i class="bi bi-router-fill"></i><span class="sidebar-text ml-3"
                              x-show="!isCollapsed">Online Admission</span> </span>
                      <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                  </a>

                  <!-- Tooltip -->
                  <div
                      class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                      This option is available in <br>
                      premium Version only.
                      <div class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                      </div>
                  </div>
              </li>
              <li><a href="visitor.html" class="block p-2 hover:bg-gray-800 rounded font-semibold"><i
                          class="bi bi-person-walking"></i> <span class="sidebar-text ml-3"
                          x-show="!isCollapsed">Visitor Info</span></a>
              </li>
              <!-- Settings Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-gear-wide-connected"></i> <span
                              class="sidebar-text ml-3" x-show="!isCollapsed">Settings</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="institution-info.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Institution
                                  Profile</span></a></li>
                      <li><a href="fees-particulars.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Fees
                                  Particulars</span> </a></li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"><span class="sidebar-text ml-3" x-show="!isCollapsed">Fees
                                      Structure</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"><span class="sidebar-text ml-3" x-show="!isCollapsed">Discount
                                      Type</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="rules-regulations.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">Rules and
                                  Regulations</span></a></li>
                      <li><a href="#" class="block py-2 hover:bg-gray-700"> <span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Audit Trail</span></a></li>
                      <li><a href="#" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Manage Account</span> </a></li>
                      <li><a href="login.html" class="block py-2 hover:bg-gray-700"><span class="sidebar-text ml-3"
                                  x-show="!isCollapsed">Log Out</span></a></li>
                  </ul>
              </li>
              <!-- AI Integration Section with Standalone Style -->
              <li x-data="{ open: false }" :class="open ? 'bg-gray-800' : 'bg-gray-900'"
                  class="rounded p-2 transition-colors duration-300">

                  <button @click="open = !open" class="flex items-center justify-between w-full text-white">
                      <span class="font-semibold"><i class="bi bi-robot"></i> <span class="sidebar-text ml-3"
                              x-show="!isCollapsed">AI Integration</span></span>
                      <span class="transition-transform duration-300" :class="open ? 'rotate-180' : ''"
                          x-show="!isCollapsed">▼</span>
                  </button>

                  <ul x-show="open" x-collapse class="pl-4 mt-2 space-y-1">
                      <li><a href="ai-chatbot.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">AI Chatbot</span></a></li>
                      <li><a href="ai-analytics.html" class="block py-2 hover:bg-gray-700"><span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">AI-Powered Manager</span> </a>
                      </li>
                      <li><a href="ai-automation.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">AI Automation</span></a>
                      </li>
                      <li class="text-gray-400 flex items-center py-2 relative group cursor-not-allowed">
                          <a href="#" class="flex items-center">
                              <span class="mr-2"> <span class="sidebar-text ml-3" x-show="!isCollapsed">AI
                                      Personalized Learning</span></span>
                              <i class="bi bi-lock ml-auto text-red-300" x-show="!isCollapsed"></i>
                          </a>

                          <!-- Tooltip -->
                          <div
                              class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-black text-white text-xs px-3 py-2 rounded-md whitespace-nowrap">
                              This option is available in <br>
                              premium Version only.
                              <div
                                  class="absolute left-1/2 transform -translate-x-1/2 top-full w-2 h-2 bg-black rotate-45">
                              </div>
                          </div>
                      </li>
                      <li><a href="404-error.html" class="block py-2 hover:bg-gray-700"> <span
                                  class="sidebar-text ml-3" x-show="!isCollapsed">AI-Generated Reports</span></a>
                      </li>
                  </ul>
              </li>

          </ul>
      </nav>

      <style>
          /* Collapsed state */
          .sidebar-collapsed {
              width: 4.5rem !important;
          }
      
          .sidebar-collapsed .sidebar-text,
          .sidebar-collapsed .sidebar-arrow,
          .sidebar-collapsed .sidebar-logo-text {
              display: none !important;
          }
      
          .sidebar-collapsed .sidebar-icon {
              margin-left: 0 !important;
              margin-right: 0 !important;
              font-size: 1.25rem !important;
          }
      
          .sidebar-collapsed [x-data]>button {
              justify-content: center !important;
              padding: 0.75rem 0.5rem !important;
          }
      
          .sidebar-collapsed .sidebar-subicon {
              margin-left: 0 !important;
          }
      
          /* Active state */
          .active-menu-item {
              background-color: #3B82F6;
          }
      
          /* Responsive */
          @media (max-width: 768px) {
              #sidebar {
                  transform: translateX(-100%);
                  transition: transform 0.3s ease-in-out;
              }
      
              #sidebar.sidebar-open {
                  transform: translateX(0);
              }
          }
      </style>
      
      <script>
          document.addEventListener('DOMContentLoaded', function () {
              const sidebar = document.getElementById('sidebar');
              const sidebarToggle = document.getElementById('sidebarToggle');
              const collapseToggle = document.getElementById('collapseToggle'); // Button to toggle collapse state
      
              // Initialize sidebar state from localStorage
              if (localStorage.getItem('sidebarCollapsed') === 'true') {
                  sidebar.classList.add('sidebar-collapsed');
              }
      
              // Toggle sidebar collapse
              if (collapseToggle) {
                  collapseToggle.addEventListener('click', function () {
                      sidebar.classList.toggle('sidebar-collapsed');
                      localStorage.setItem('sidebarCollapsed', sidebar.classList.contains('sidebar-collapsed'));
                  });
              }
      
              // Mobile sidebar toggle
              if (sidebarToggle) {
                  sidebarToggle.addEventListener('click', function () {
                      sidebar.classList.toggle('sidebar-open');
                  });
              }
      
              // Close sidebar when clicking outside on mobile
              document.addEventListener('click', function (event) {
                  if (window.innerWidth <= 768 &&
                      !sidebar.contains(event.target) &&
                      !sidebarToggle.contains(event.target) &&
                      sidebar.classList.contains('sidebar-open')) {
                      sidebar.classList.remove('sidebar-open');
                  }
              });
          });
      </script>
      
      <script>
          // Ensure sidebar updates after page loads
          updateSidebar();
      </script>
        <div class="fixed bottom-5 right-5 sm:right-10 md:right-12 lg:right-16 z-50 flex items-center gap-3">
            <button id="chat-sukuu-btn" 
                class="flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg transition hover:bg-blue-500">
                <i class="bi bi-chat-dots text-2xl"></i>
                <span class="text-sm font-semibold">Chat with Sukuu AI Chatbot</span>
            </button>
        </div>
        
        <script>
            document.getElementById("chat-sukuu-btn").addEventListener("click", function() {
                window.location.href = "ai-chatbot.html";
            });
        </script>

      <!-- Main Content -->
      <div class="lg:pl-14 flex flex-col w-full">
        <!-- Modern Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
            <div class="container-fluid">
                <span class="navbar-brand d-flex align-items-center">
                    <i class="bi bi-wallet2 me-2 text-primary"></i>
                    <span class="font-semibold">Payslip Management</span>
                </span>
                <div class="d-flex align-items-center">
                    <button class="btn btn-link text-gray-600 me-2 position-relative p-1">
                        <i class="bi bi-bell-fill fs-5"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem;">
                            3
                        </span>
                    </button>
                    <button class="btn btn-link text-gray-600 me-2 p-1">
                        <i class="bi bi-gear-fill fs-5"></i>
                    </button>
                    <div class="dropdown">
                        <button class="btn btn-link text-gray-600 dropdown-toggle p-1" type="button" id="languageDropdown" data-bs-toggle="dropdown">
                            <i class="bi bi-globe fs-5"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end shadow">
                            <li><a class="dropdown-item" href="#">English</a></li>
                            <li><a class="dropdown-item" href="#">French</a></li>
                            <li><a class="dropdown-item" href="#">Spanish</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Main content area -->
        <div class="flex-1 pb-8">
            <div class="px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8">
                <!-- Stats cards -->
                <div class="mt-8">
                    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4">
                        <!-- Card -->
                        <div class="stat-card">
                            <div class="flex items-center">
                                <div class="stat-icon bg-blue-100 text-blue-600">
                                    <i class="fas fa-file-invoice-dollar"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dl>
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Total Payslips
                                        </dt>
                                        <dd>
                                            <div class="text-lg font-medium text-gray-900" id="totalPayslips">
                                                24
                                            </div>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
    
                        <!-- Card -->
                        <div class="stat-card">
                            <div class="flex items-center">
                                <div class="stat-icon bg-green-100 text-green-600">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dl>
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Total Paid
                                        </dt>
                                        <dd>
                                            <div class="text-lg font-medium text-gray-900" id="totalPaid">
                                                GHS 148,500
                                            </div>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
    
                        <!-- Card -->
                        <div class="stat-card">
                            <div class="flex items-center">
                                <div class="stat-icon bg-yellow-100 text-yellow-600">
                                    <i class="fas fa-hourglass-half"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dl>
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            Pending Approval
                                        </dt>
                                        <dd>
                                            <div class="text-lg font-medium text-gray-900" id="pendingApproval">
                                                3
                                            </div>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
    
                        <!-- Card -->
                        <div class="stat-card">
                            <div class="flex items-center">
                                <div class="stat-icon bg-purple-100 text-purple-600">
                                    <i class="fas fa-calendar-day"></i>
                                </div>
                                <div class="ml-5 w-0 flex-1">
                                    <dl>
                                        <dt class="text-sm font-medium text-gray-500 truncate">
                                            This Month
                                        </dt>
                                        <dd>
                                            <div class="text-lg font-medium text-gray-900" id="thisMonth">
                                                GHS 24,750
                                            </div>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Filters and Actions -->
                <div class="mt-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                    <div class="relative w-full sm:w-64">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400"></i>
                        </div>
                        <input type="text" name="search" id="search" class="modern-input block w-full pl-10 pr-3 py-2" placeholder="Search employees..." onkeyup="filterPayslips()">
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
                        <select id="status" name="status" class="modern-input block w-full sm:w-40 pl-3 pr-10 py-2 text-base" onchange="filterPayslips()">
                            <option value="all">All Status</option>
                            <option value="paid">Paid</option>
                            <option value="pending">Pending</option>
                        </select>
                        
                        <select id="period" name="period" class="modern-input block w-full sm:w-40 pl-3 pr-10 py-2 text-base" onchange="filterPayslips()">
                            <option value="all">All Periods</option>
                            <option value="june2023">June 2023</option>
                            <option value="may2023">May 2023</option>
                            <option value="april2023">April 2023</option>
                        </select>
                        
                        <button onclick="generateNewPayslip()" class="btn-modern btn-primary">
                            <i class="fas fa-plus"></i>
                            <span>New Payslip</span>
                        </button>
                    </div>
                </div>
    
                <!-- Payslips table -->
                <div class="mt-8 bg-white rounded-xl shadow border border-gray-200 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="modern-table">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col" class="text-left">
                                        Employee
                                    </th>
                                    <th scope="col" class="text-left">
                                        Period
                                    </th>
                                    <th scope="col" class="text-left">
                                        Basic Salary
                                    </th>
                                    <th scope="col" class="text-left">
                                        Additions
                                    </th>
                                    <th scope="col" class="text-left">
                                        Deductions
                                    </th>
                                    <th scope="col" class="text-left">
                                        Net Pay
                                    </th>
                                    <th scope="col" class="text-left">
                                        Status
                                    </th>
                                    <th scope="col" class="text-right">
                                        Actions
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white" id="payslipsTableBody">
                                <!-- Payslip data will be loaded here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
    
                <!-- Pagination -->
                <div class="mt-4 flex flex-col sm:flex-row justify-between items-center gap-4">
                    <div class="text-sm text-gray-700" id="paginationInfo">
                        Showing <span class="font-medium">1</span> to <span class="font-medium">5</span> of <span class="font-medium">24</span> results
                    </div>
                    <nav class="flex items-center space-x-1" id="paginationControls">
                        <button class="btn-modern" onclick="changePage('prev')">
                            Previous
                        </button>
                        <button class="btn-modern btn-primary" onclick="changePage(1)">
                            1
                        </button>
                        <button class="btn-modern" onclick="changePage(2)">
                            2
                        </button>
                        <button class="btn-modern" onclick="changePage(3)">
                            3
                        </button>
                        <span class="px-3 py-1 text-sm text-gray-700">
                            ...
                        </span>
                        <button class="btn-modern" onclick="changePage(8)">
                            8
                        </button>
                        <button class="btn-modern" onclick="changePage('next')">
                            Next
                        </button>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Payslip Modal -->
<div class="modal fade" id="payslipModal" tabindex="-1" aria-labelledby="payslipModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="payslipModalLabel">Payslip Details</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="payslipDetails">
                <!-- Payslip details will be loaded here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-modern" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn-modern btn-primary" onclick="printPayslip()">
                    <i class="fas fa-print me-1"></i> Print
                </button>
            </div>
        </div>
    </div>
</div>

<!-- New Payslip Modal -->
<div class="modal fade" id="newPayslipModal" tabindex="-1" aria-labelledby="newPayslipModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border-0 shadow-lg">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="newPayslipModalLabel">Generate New Payslip</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="newPayslipForm">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="employeeSelect" class="form-label">Employee</label>
                            <select class="modern-input form-select" id="employeeSelect" required>
                                <option value="" selected disabled>Select Employee</option>
                                <option value="1">John Doe (Mathematics Teacher)</option>
                                <option value="2">Jane Smith (Science Teacher)</option>
                                <option value="3">Michael Johnson (Headmaster)</option>
                                <option value="4">Sarah Williams (English Teacher)</option>
                                <option value="5">David Brown (IT Administrator)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="payPeriod" class="form-label">Pay Period</label>
                            <input type="month" class="modern-input form-control" id="payPeriod" required>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="basicSalary" class="form-label">Basic Salary (GHS)</label>
                            <input type="number" class="modern-input form-control" id="basicSalary" required>
                        </div>
                        <div class="col-md-6">
                            <label for="paymentDate" class="form-label">Payment Date</label>
                            <input type="date" class="modern-input form-control" id="paymentDate" required>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <h6 class="fw-bold">Additions</h6>
                        <div id="additionsContainer">
                            <div class="row addition-row mb-2">
                                <div class="col-md-5">
                                    <input type="text" class="modern-input form-control" placeholder="Description" name="additionDesc">
                                </div>
                                <div class="col-md-5">
                                    <input type="number" class="modern-input form-control" placeholder="Amount (GHS)" name="additionAmount">
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn-modern btn-danger" onclick="removeAdditionRow(this)"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn-modern mt-2" onclick="addAdditionRow()">
                            <i class="fas fa-plus me-1"></i> Add Addition
                        </button>
                    </div>
                    
                    <div class="mb-3">
                        <h6 class="fw-bold">Deductions</h6>
                        <div id="deductionsContainer">
                            <div class="row deduction-row mb-2">
                                <div class="col-md-5">
                                    <input type="text" class="modern-input form-control" placeholder="Description" name="deductionDesc">
                                </div>
                                <div class="col-md-5">
                                    <input type="number" class="modern-input form-control" placeholder="Amount (GHS)" name="deductionAmount">
                                </div>
                                <div class="col-md-2">
                                    <button type="button" class="btn-modern btn-danger" onclick="removeDeductionRow(this)"><i class="fas fa-times"></i></button>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn-modern mt-2" onclick="addDeductionRow()">
                            <i class="fas fa-plus me-1"></i> Add Deduction
                        </button>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="paymentMethod" class="form-label">Payment Method</label>
                            <select class="modern-input form-select" id="paymentMethod" required>
                                <option value="bank">Bank Transfer</option>
                                <option value="cash">Cash</option>
                                <option value="cheque">Cheque</option>
                                <option value="mobile_money">Mobile Money</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="paymentStatus" class="form-label">Payment Status</label>
                            <select class="modern-input form-select" id="paymentStatus" required>
                                <option value="pending">Pending</option>
                                <option value="paid">Paid</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="notes" class="form-label">Notes</label>
                        <textarea class="modern-input form-control" id="notes" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-modern" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn-modern btn-primary" onclick="savePayslip()">Generate Payslip</button>
            </div>
        </div>
    </div>
</div>

<!-- Confirmation Dialog -->
<div class="confirmation-dialog" id="confirmationDialog">
    <div class="confirmation-content glass-card">
        <div class="confirmation-title" id="confirmationTitle">Confirm Deletion</div>
        <div class="confirmation-message" id="confirmationMessage">Are you sure you want to delete this payslip? This action cannot be undone.</div>
        <div class="confirmation-buttons">
            <button class="btn-modern" id="cancelButton">Cancel</button>
            <button class="btn-modern btn-danger" id="confirmButton">Delete</button>
        </div>
    </div>
</div>

<!-- Toast Notification -->
<div class="toast-notification" id="toastNotification">
    <i class="toast-icon fas fa-check-circle"></i>
    <span id="toastMessage">Payslip deleted successfully</span>
</div>

<!-- Custom JS -->
<script>
    // Sample data for payslips
    const payslipsData = [
        {
            id: 1,
            employee: {
                name: "John Doe",
                position: "Mathematics Teacher",
                initials: "JD",
                color: "indigo"
            },
            period: "June 2023",
            date: "30 Jun 2023",
            basicSalary: 4500,
            additions: 1200,
            deductions: 350,
            netPay: 5350,
            status: "paid",
            paymentMethod: "Bank Transfer",
            notes: "Regular monthly salary with overtime"
        },
        {
            id: 2,
            employee: {
                name: "Jane Smith",
                position: "Science Teacher",
                initials: "JS",
                color: "pink"
            },
            period: "June 2023",
            date: "30 Jun 2023",
            basicSalary: 4800,
            additions: 800,
            deductions: 420,
            netPay: 5180,
            status: "paid",
            paymentMethod: "Mobile Money",
            notes: "Including exam invigilation allowance"
        },
        {
            id: 3,
            employee: {
                name: "Michael Johnson",
                position: "Headmaster",
                initials: "MJ",
                color: "purple"
            },
            period: "June 2023",
            date: "30 Jun 2023",
            basicSalary: 6500,
            additions: 1500,
            deductions: 600,
            netPay: 7400,
            status: "paid",
            paymentMethod: "Bank Transfer",
            notes: "Including performance bonus"
        },
        {
            id: 4,
            employee: {
                name: "Sarah Williams",
                position: "English Teacher",
                initials: "SW",
                color: "yellow"
            },
            period: "June 2023",
            date: "30 Jun 2023",
            basicSalary: 4200,
            additions: 600,
            deductions: 300,
            netPay: 4500,
            status: "pending",
            paymentMethod: "",
            notes: "Awaiting approval from finance"
        },
        {
            id: 5,
            employee: {
                name: "David Brown",
                position: "IT Administrator",
                initials: "DB",
                color: "blue"
            },
            period: "June 2023",
            date: "30 Jun 2023",
            basicSalary: 5000,
            additions: 1000,
            deductions: 450,
            netPay: 5550,
            status: "paid",
            paymentMethod: "Bank Transfer",
            notes: "Including system maintenance bonus"
        },
        {
            id: 6,
            employee: {
                name: "Emily Davis",
                position: "Art Teacher",
                initials: "ED",
                color: "green"
            },
            period: "May 2023",
            date: "31 May 2023",
            basicSalary: 4000,
            additions: 500,
            deductions: 200,
            netPay: 4300,
            status: "paid",
            paymentMethod: "Cash",
            notes: "Regular monthly salary"
        },
        {
            id: 7,
            employee: {
                name: "Robert Wilson",
                position: "Physical Education",
                initials: "RW",
                color: "red"
            },
            period: "May 2023",
            date: "31 May 2023",
            basicSalary: 3800,
            additions: 700,
            deductions: 250,
            netPay: 4250,
            status: "paid",
            paymentMethod: "Bank Transfer",
            notes: "Including sports tournament bonus"
        },
        {
            id: 8,
            employee: {
                name: "Lisa Taylor",
                position: "Music Teacher",
                initials: "LT",
                color: "teal"
            },
            period: "April 2023",
            date: "30 Apr 2023",
            basicSalary: 3900,
            additions: 600,
            deductions: 280,
            netPay: 4220,
            status: "paid",
            paymentMethod: "Mobile Money",
            notes: "Including choir performance bonus"
        }
    ];

    // Current page state
    let currentPage = 1;
    const itemsPerPage = 5;
    let filteredPayslips = [...payslipsData];

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
        loadPayslips();
        updateStats();
        
        // Initialize confirmation dialog buttons
        document.getElementById('cancelButton').addEventListener('click', hideDeleteConfirmation);
        document.getElementById('confirmButton').addEventListener('click', confirmDelete);
    });

    // Load payslips into the table
    function loadPayslips() {
        const tableBody = document.getElementById('payslipsTableBody');
        tableBody.innerHTML = '';
        
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const paginatedItems = filteredPayslips.slice(startIndex, endIndex);
        
        if (paginatedItems.length === 0) {
            tableBody.innerHTML = `
                <tr>
                    <td colspan="8" class="px-6 py-4 text-center text-gray-500">
                        No payslips found matching your criteria
                    </td>
                </tr>
            `;
            return;
        }
        
        paginatedItems.forEach(payslip => {
            const row = document.createElement('tr');
            row.className = 'hover:bg-gray-50';
            row.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap">
                    <div class="flex items-center">
                        <div class="avatar bg-${payslip.employee.color}-500">
                            ${payslip.employee.initials}
                        </div>
                        <div class="ml-4">
                            <div class="text-sm font-medium text-gray-900">${payslip.employee.name}</div>
                            <div class="text-sm text-gray-500">${payslip.employee.position}</div>
                        </div>
                    </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <div class="text-sm text-gray-900">${payslip.period}</div>
                    <div class="text-sm text-gray-500">${payslip.date}</div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                    GHS ${payslip.basicSalary.toFixed(2)}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">
                    +GHS ${payslip.additions.toFixed(2)}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-red-600">
                    -GHS ${payslip.deductions.toFixed(2)}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                    GHS ${payslip.netPay.toFixed(2)}
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <span class="status-badge status-${payslip.status}">
                        ${payslip.status === 'paid' ? 'Paid' : 'Pending'}
                    </span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <div class="flex justify-end space-x-2">
                        <button onclick="viewPayslip(${payslip.id})" class="btn-modern btn-view">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button onclick="downloadPayslip(${payslip.id})" class="btn-modern btn-success">
                            <i class="fas fa-download"></i>
                        </button>
                        <button onclick="showDeleteConfirmation(${payslip.id})" class="btn-modern btn-danger">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </td>
            `;
            tableBody.appendChild(row);
        });
        
        updatePagination();
    }

    // Filter payslips based on search and dropdown filters
    function filterPayslips() {
        const searchTerm = document.getElementById('search').value.toLowerCase();
        const statusFilter = document.getElementById('status').value;
        const periodFilter = document.getElementById('period').value;
        
        filteredPayslips = payslipsData.filter(payslip => {
            const matchesSearch = 
                payslip.employee.name.toLowerCase().includes(searchTerm) || 
                payslip.employee.position.toLowerCase().includes(searchTerm);
            
            const matchesStatus = 
                statusFilter === 'all' || 
                (statusFilter === 'paid' && payslip.status === 'paid') || 
                (statusFilter === 'pending' && payslip.status === 'pending');
            
            const matchesPeriod = 
                periodFilter === 'all' || 
                (periodFilter === 'june2023' && payslip.period === 'June 2023') || 
                (periodFilter === 'may2023' && payslip.period === 'May 2023') || 
                (periodFilter === 'april2023' && payslip.period === 'April 2023');
            
            return matchesSearch && matchesStatus && matchesPeriod;
        });
        
        currentPage = 1;
        loadPayslips();
        updateStats();
    }

    // Update pagination controls
    function updatePagination() {
        const totalPages = Math.ceil(filteredPayslips.length / itemsPerPage);
        const paginationInfo = document.getElementById('paginationInfo');
        const paginationControls = document.getElementById('paginationControls');
        
        if (filteredPayslips.length === 0) {
            paginationInfo.innerHTML = 'Showing 0 results';
            paginationControls.style.display = 'none';
            return;
        }
        
        const startItem = (currentPage - 1) * itemsPerPage + 1;
        const endItem = Math.min(currentPage * itemsPerPage, filteredPayslips.length);
        
        paginationInfo.innerHTML = `Showing <span class="font-medium">${startItem}</span> to <span class="font-medium">${endItem}</span> of <span class="font-medium">${filteredPayslips.length}</span> results`;
        
        // Generate pagination buttons
        let paginationHTML = '';
        
        // Previous button
        paginationHTML += `
            <button class="btn-modern ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : ''}" 
                onclick="changePage('prev')" ${currentPage === 1 ? 'disabled' : ''}>
                Previous
            </button>
        `;
        
        // Page numbers
        if (totalPages <= 5) {
            for (let i = 1; i <= totalPages; i++) {
                paginationHTML += `
                    <button class="btn-modern ${currentPage === i ? 'btn-primary' : ''}" 
                        onclick="changePage(${i})">
                        ${i}
                    </button>
                `;
            }
        } else {
            // Show first page, current page with neighbors, and last page
            if (currentPage > 2) {
                paginationHTML += `
                    <button class="btn-modern" 
                        onclick="changePage(1)">
                        1
                    </button>
                `;
                
                if (currentPage > 3) {
                    paginationHTML += `<span class="px-3 py-1 text-sm text-gray-700">...</span>`;
                }
            }
            
            for (let i = Math.max(1, currentPage - 1); i <= Math.min(totalPages, currentPage + 1); i++) {
                paginationHTML += `
                    <button class="btn-modern ${currentPage === i ? 'btn-primary' : ''}" 
                        onclick="changePage(${i})">
                        ${i}
                    </button>
                `;
            }
            
            if (currentPage < totalPages - 1) {
                if (currentPage < totalPages - 2) {
                    paginationHTML += `<span class="px-3 py-1 text-sm text-gray-700">...</span>`;
                }
                
                paginationHTML += `
                    <button class="btn-modern" 
                        onclick="changePage(${totalPages})">
                        ${totalPages}
                    </button>
                `;
            }
        }
        
        // Next button
        paginationHTML += `
            <button class="btn-modern ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : ''}" 
                onclick="changePage('next')" ${currentPage === totalPages ? 'disabled' : ''}>
                Next
            </button>
        `;
        
        paginationControls.innerHTML = paginationHTML;
        paginationControls.style.display = 'flex';
    }

    // Change page
    function changePage(page) {
        const totalPages = Math.ceil(filteredPayslips.length / itemsPerPage);
        
        if (page === 'prev' && currentPage > 1) {
            currentPage--;
        } else if (page === 'next' && currentPage < totalPages) {
            currentPage++;
        } else if (typeof page === 'number') {
            currentPage = page;
        }
        
        loadPayslips();
    }

    // Update stats cards
    function updateStats() {
        document.getElementById('totalPayslips').textContent = filteredPayslips.length;
        
        const totalPaid = filteredPayslips.reduce((sum, payslip) => sum + payslip.netPay, 0);
        document.getElementById('totalPaid').textContent = `GHS ${totalPaid.toFixed(2)}`;
        
        const pendingCount = filteredPayslips.filter(payslip => payslip.status === 'pending').length;
        document.getElementById('pendingApproval').textContent = pendingCount;
        
        // This month's total (just for demo - would normally filter by current month)
        const thisMonthTotal = filteredPayslips
            .filter(payslip => payslip.period === 'June 2023')
            .reduce((sum, payslip) => sum + payslip.netPay, 0);
        document.getElementById('thisMonth').textContent = `GHS ${thisMonthTotal.toFixed(2)}`;
    }

    // View payslip details
    function viewPayslip(id) {
        const payslip = payslipsData.find(p => p.id === id);
        if (!payslip) return;
        
        const modal = new bootstrap.Modal(document.getElementById('payslipModal'));
        const modalBody = document.getElementById('payslipDetails');
        
        modalBody.innerHTML = `
            <div class="container">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h5 class="fw-bold">${payslip.employee.name}</h5>
                        <p class="text-muted">${payslip.employee.position}</p>
                    </div>
                    <div class="col-md-6 text-end">
                        <h5 class="fw-bold">Payslip #${payslip.id.toString().padStart(4, '0')}</h5>
                        <p class="text-muted">Period: ${payslip.period}</p>
                    </div>
                </div>
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card mb-3 border-0 shadow-sm">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">Earnings</h6>
                            </div>
                            <div class="card-body">
                                <div class="d-flex justify-content-between mb-2">
                                    <span>Basic Salary</span>
                                    <span>GHS ${payslip.basicSalary.toFixed(2)}</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span>Additions</span>
                                    <span>GHS ${payslip.additions.toFixed(2)}</span>
                                </div>
                                <hr>
                                <div class="d-flex justify-content-between fw-bold">
                                    <span>Gross Pay</span>
                                    <span>GHS ${(payslip.basicSalary + payslip.additions).toFixed(2)}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card border-0 shadow-sm">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">Deductions</h6>
                            </div>
                            <div class="card-body">
                                <div class="d-flex justify-content-between mb-2">
                                    <span>Taxes & Deductions</span>
                                    <span>GHS ${payslip.deductions.toFixed(2)}</span>
                                </div>
                                <hr>
                                <div class="d-flex justify-content-between fw-bold">
                                    <span>Total Deductions</span>
                                    <span>GHS ${payslip.deductions.toFixed(2)}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card bg-light mb-4 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <h4 class="fw-bold">Net Pay: GHS ${payslip.netPay.toFixed(2)}</h4>
                        <p class="mb-0">Status: <span class="status-badge status-${payslip.status}">
                            ${payslip.status === 'paid' ? 'Paid' : 'Pending'}
                        </span></p>
                        ${payslip.paymentMethod ? `<p class="mb-0">Payment Method: ${payslip.paymentMethod}</p>` : ''}
                    </div>
                </div>
                
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-light">
                        <h6 class="mb-0">Additional Information</h6>
                    </div>
                    <div class="card-body">
                        <p>${payslip.notes || 'No additional notes provided.'}</p>
                    </div>
                </div>
            </div>
        `;
        
        modal.show();
    }

    // Download payslip as PDF
    function downloadPayslip(id) {
        showToast('Preparing payslip for download...', 'success');
        setTimeout(() => {
            showToast('Payslip downloaded successfully', 'success');
        }, 1500);
    }

    // Modern delete confirmation dialog
    let payslipToDelete = null;
    
    function showDeleteConfirmation(id) {
        payslipToDelete = id;
        const dialog = document.getElementById('confirmationDialog');
        dialog.classList.add('active');
    }
    
    function hideDeleteConfirmation() {
        const dialog = document.getElementById('confirmationDialog');
        dialog.classList.remove('active');
        payslipToDelete = null;
    }
    
    function confirmDelete() {
        if (payslipToDelete) {
            // In a real app, this would make an API call to delete
            const index = payslipsData.findIndex(p => p.id === payslipToDelete);
            if (index !== -1) {
                payslipsData.splice(index, 1);
                filterPayslips();
                showToast('Payslip deleted successfully', 'success');
            }
        }
        hideDeleteConfirmation();
    }

    // Modern toast notification
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toastNotification');
        const toastMessage = document.getElementById('toastMessage');
        const toastIcon = toast.querySelector('.toast-icon');
        
        toast.className = `toast-notification ${type}`;
        toastMessage.textContent = message;
        
        // Set appropriate icon
        if (type === 'success') {
            toastIcon.className = 'toast-icon fas fa-check-circle';
        } else if (type === 'error') {
            toastIcon.className = 'toast-icon fas fa-exclamation-circle';
        } else if (type === 'warning') {
            toastIcon.className = 'toast-icon fas fa-exclamation-triangle';
        }
        
        toast.classList.add('show');
        
        // Auto-hide after 3 seconds
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Print payslip
    function printPayslip() {
        // In a real app, this would open the print dialog with a nicely formatted version
        showToast('Preparing payslip for printing...', 'success');
        setTimeout(() => {
            window.print();
        }, 500);
    }

    // Generate new payslip
    function generateNewPayslip() {
        const modal = new bootstrap.Modal(document.getElementById('newPayslipModal'));
        document.getElementById('newPayslipForm').reset();
        
        // Clear any existing addition/deduction rows except the first one
        const additionsContainer = document.getElementById('additionsContainer');
        const deductionsContainer = document.getElementById('deductionsContainer');
        
        while (additionsContainer.children.length > 1) {
            additionsContainer.removeChild(additionsContainer.lastChild);
        }
        
        while (deductionsContainer.children.length > 1) {
            deductionsContainer.removeChild(deductionsContainer.lastChild);
        }
        
        // Reset the first row's inputs
        additionsContainer.querySelector('input[name="additionDesc"]').value = '';
        additionsContainer.querySelector('input[name="additionAmount"]').value = '';
        deductionsContainer.querySelector('input[name="deductionDesc"]').value = '';
        deductionsContainer.querySelector('input[name="deductionAmount"]').value = '';
        
        // Set default payment date to today
        document.getElementById('paymentDate').valueAsDate = new Date();
        
        modal.show();
    }

    // Add addition row
    function addAdditionRow() {
        const container = document.getElementById('additionsContainer');
        const newRow = document.createElement('div');
        newRow.className = 'row addition-row mb-2';
        newRow.innerHTML = `
            <div class="col-md-5">
                <input type="text" class="modern-input form-control" placeholder="Description" name="additionDesc">
            </div>
            <div class="col-md-5">
                <input type="number" class="modern-input form-control" placeholder="Amount (GHS)" name="additionAmount">
            </div>
            <div class="col-md-2">
                <button type="button" class="btn-modern btn-danger" onclick="removeAdditionRow(this)"><i class="fas fa-times"></i></button>
            </div>
        `;
        container.appendChild(newRow);
    }

    // Remove addition row
    function removeAdditionRow(button) {
        if (document.getElementById('additionsContainer').children.length > 1) {
            button.closest('.addition-row').remove();
        } else {
            // Clear the inputs but keep at least one row
            const row = button.closest('.addition-row');
            row.querySelector('input[name="additionDesc"]').value = '';
            row.querySelector('input[name="additionAmount"]').value = '';
        }
    }

    // Add deduction row
    function addDeductionRow() {
        const container = document.getElementById('deductionsContainer');
        const newRow = document.createElement('div');
        newRow.className = 'row deduction-row mb-2';
        newRow.innerHTML = `
            <div class="col-md-5">
                <input type="text" class="modern-input form-control" placeholder="Description" name="deductionDesc">
            </div>
            <div class="col-md-5">
                <input type="number" class="modern-input form-control" placeholder="Amount (GHS)" name="deductionAmount">
            </div>
            <div class="col-md-2">
                <button type="button" class="btn-modern btn-danger" onclick="removeDeductionRow(this)"><i class="fas fa-times"></i></button>
            </div>
        `;
        container.appendChild(newRow);
    }

    // Remove deduction row
    function removeDeductionRow(button) {
        if (document.getElementById('deductionsContainer').children.length > 1) {
            button.closest('.deduction-row').remove();
        } else {
            // Clear the inputs but keep at least one row
            const row = button.closest('.deduction-row');
            row.querySelector('input[name="deductionDesc"]').value = '';
            row.querySelector('input[name="deductionAmount"]').value = '';
        }
    }

    // Save new payslip
    function savePayslip() {
        const form = document.getElementById('newPayslipForm');
        if (!form.checkValidity()) {
            form.reportValidity();
            return;
        }
        
        const employeeSelect = document.getElementById('employeeSelect');
        const selectedEmployee = employeeSelect.options[employeeSelect.selectedIndex].text;
        const [name, position] = selectedEmployee.split(' (');
        
        // Calculate additions total
        let additionsTotal = 0;
        const additionRows = document.querySelectorAll('.addition-row');
        additionRows.forEach(row => {
            const amount = parseFloat(row.querySelector('input[name="additionAmount"]').value) || 0;
            additionsTotal += amount;
        });
        
        // Calculate deductions total
        let deductionsTotal = 0;
        const deductionRows = document.querySelectorAll('.deduction-row');
        deductionRows.forEach(row => {
            const amount = parseFloat(row.querySelector('input[name="deductionAmount"]').value) || 0;
            deductionsTotal += amount;
        });
        
        const basicSalary = parseFloat(document.getElementById('basicSalary').value);
        const netPay = basicSalary + additionsTotal - deductionsTotal;
        
        // Create new payslip object
        const newPayslip = {
            id: payslipsData.length + 1,
            employee: {
                name: name,
                position: position.replace(')', ''),
                initials: name.split(' ').map(n => n[0]).join(''),
                color: ['indigo', 'pink', 'purple', 'yellow', 'blue', 'green', 'red', 'teal'][Math.floor(Math.random() * 8)]
            },
            period: document.getElementById('payPeriod').valueAsDate.toLocaleString('default', { month: 'long', year: 'numeric' }),
            date: document.getElementById('paymentDate').valueAsDate.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' }),
            basicSalary: basicSalary,
            additions: additionsTotal,
            deductions: deductionsTotal,
            netPay: netPay,
            status: document.getElementById('paymentStatus').value,
            paymentMethod: document.getElementById('paymentMethod').value,
            notes: document.getElementById('notes').value
        };
        
        // In a real app, this would make an API call to save
        payslipsData.unshift(newPayslip);
        
        // Close modal and refresh
        const modal = bootstrap.Modal.getInstance(document.getElementById('newPayslipModal'));
        modal.hide();
        
        filterPayslips();
        showToast('Payslip generated successfully!', 'success');
    }
</script>
    </div>

    <!-- Alpine.js for interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</body>

</html>